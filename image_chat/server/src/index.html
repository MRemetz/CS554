<!doctype html>
<html>

<head>
  <title>Image Chat</title>
</head>

<h2>Image Chat</h2>

<body>
  <form action="" target="_self">
    Username:
    <input id="username" autocomplete="off" />
    <br><br>
    Message:
    <input id="message" autocomplete="off" />
    <br><br>
    Image query:
    <input id="query" autocomplete="off"/>
    <br><br>
    <button>Send</button>
  </form>
</body>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
  $(function () {
    var socket = io();
    $('form').submit(function () {
      $('#username').prop('disabled', true);
      var obj = {
        username: $('#username').val(),
        message: $('#message').val(),
        query: $('#query').val()
      };
      socket.emit('chat message', obj);
      $('#message').val('');
      $('#query').val('');
      return false;
    });
    socket.on('chat message', function (msg) {
      $('#messages').append($('<li>').text(msg));
    });
  });
</script>

</html>